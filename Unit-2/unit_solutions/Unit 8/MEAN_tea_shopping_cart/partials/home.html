<div ng-controller='HomeController'>
  <div class="container">
    <div class="row padding">
      <label>Search by catagory:</label>
      <select ng-model='search.categories' ng-options='option for option in options'></select>
      <label>Search by name:</label>
      <input type="text" ng-model='search.name'>
      <a href="/#/"><input type="button" value="Checkout | Bag: Empty!" class="btn btn-danger pull-right" ng-show='!bagLength.length'></a>
      <a href="/#/checkout"><input type="button" value="Checkout | Bag: ({{bagLength.length}})" class="btn btn-danger pull-right" ng-show='bagLength.length > 0' ></a>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Tea</th>
            <th>Information</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat='tea in teas | filter:search'>
            <td><img ng-src="{{tea.imageUrl}}" alt='tea.imageUrl'/></td>
            <td>
                <h3 style="display: inline-block">{{tea.name}}</h3>
                <div class="pull-right">
                  <form ng-submit='addToBag(addedAmount, tea)'>
                    <h3 style="display: inline-block">Quantity:</h3>
                    <select ng-model='addedAmount'>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5">5</option>
                      <option value="6">6</option>
                      <option value="7">7</option>
                    </select>
                    <input type="submit" value="Add To Bag" class='btn btn-warning'>
                  </form>
                </div>
                <p><b>Price:</b> {{tea.price | currency}}</p>
                <p><b>Caffeine Scale:</b> {{tea.caffeineScale}}</p>
                <p><b>Ingredients:</b> {{tea.ingredients}}</p>
                <p><b>Rating:</b> {{tea.rating}}</p>
                <p><b>In Stock?</b> {{tea.inStock | yesNo}}</p>
                <p><b>Categories</b></p>
                <ul ng-repeat='category in tea.categories'>
                  <li>{{category}}</li>
                </ul>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
